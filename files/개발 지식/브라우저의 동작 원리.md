# 브라우저의 동작 원리

## 1. DOM, CSSOM 생성

서버로부터 받은 HTML, CSS를 다운받아 Object Model로 만든다.

<br />

## 2. Render Tree생성

DOM과 CSSOM 을 통해 문서를 시각적인 구성 요소로 만들어주는 Render Tree를 생성한다.

<br />

## 3. Layout

브라우저의 뷰포트 내에서 각 노드들의 위치와 크기를 계산한다.

<br />

## 4. Paint

Layout 계산 후 요소들을 실제 화면에 그려낸다.

<br />

#### ~여기까지 렌더링 엔진에서 HTML, CSS 렌더링을 처리하는 과정~

<br />

## 5. script태그를 만나면 DOM생성을 중지하고 자바스크립트 엔진으로 권한을 넘긴다.

권한을 넘겨받은 자바스크립트 엔진은 `<script>` 태그 내의 javascript 코드 또는 `src` 속성에 정의된 JS 파일을 로드하고 파싱해 실행한다. 해당 작업이 완료되면 다시 HTML 파서로 제어 권한을 넘겨서 DOM생성을 재개한다.

자바스크립트 엔진에 권한이 있을 때 완성되지 않은 DOM을 조작하게 되면 에러가 발생한다. 이는 바로 body 태그 하단에 script를 위치시키는 이유이기도 하다.
