# SSR과 CSR의 차이점

## SSR (Server Side Rendering)

단어 그대로 서버쪽에서 렌더링 작업을 하는 것을 의미하며,
서버 쪽에서 렌더링 후 완전하게 만들어진 HTML 파일을 브라우저에 전달하여 렌더링하는 방식이다. 새로운 페이지로 이동할 때마다 서버에 페이지를 요청하고 새로고침을 필요로 하기 때문에 깜빡이는 현상이 발생한다.

### SSR의 단계

1. User가 Website에서 요청을 보낸다.
2. Server는 즉시 렌더링 가능한 HTML파일을 만들어(리소스 체크, 컴파일 후 완성된 HTML 컨텐츠) 클라이언트에 전달한다.

3. 렌더링 준비가 되어있는 HTML파일은 Client에 전달되는 순간 즉시 렌더링된다. 하지만 사이트 자체는 조작할 수 없다.

4. 클라이언트가 링크되어 있는 JS파일을 다운받는다. 그동안 user는 컨텐츠를 볼 수 있지만 사이트를 조작할 수는 없고, 다만 이 때의 사용자 조작은 기억된다.

5. 브라우저가 Javascript 프레임워크를 실행한다.

6. Javascript가 컴파일되면 기억되었던 사용자 조작이 실행되고, 웹 페이지는 상호작용이 가능해진다.

<br />

## CSR (Client Side Rendering)

SSR과 달리 렌더링이 클라이언트 쪽에서 일어난다.
최초 로딩 시 브라우저가 서버에서 HTML을 비롯한 CSS, Javascript등 각종 리소스들을 받아오는 방식이다. 각종 리소스들을 받아오면 Javascript를 통해 동적으로 렌더링하고 이후 필요에 따라 데이터를 서버에 추가적으로 요청해 받아온다.

### CSR의 단계

1. User가 Website에서 요청을 보낸다.
2. CDN(AWS의 cloudflare와 같이 user의 요청에 물리적으로 가까운 서버에서 요청에 응답하는 방식)이 필요한 JS파일에 대한 링크만 있는 index.html파일을 클라이언트에 전달한다.
3. 클라이언트는 JS파일을 다운로드 받는다. (이때 User의 화면에선 아무것도 볼 수 없다.)
   ....
4. 다운로드가 완료된 JS가 실행되고, 기타 추가로 필요한 데이터가 있을 경우 서버에 요청해 데이터를 받아온 후 동적으로 HTML파일을 생성하고, 페이지를 구성한다.

<br />

## SSR과 CSR의 차이점

### 1. 웹페이지 로딩시간

#### 첫 페이지 로딩시간

CSR의 경우 HTML, CSS 등 모든 스크립트를 한 번에 불러오지만, SSR은 필요한 부분의 HTML과 스크립트만 불러오게 되어 첫 페이지 로딩시간은 보통 SSR이 더 빠르다.

#### 나머지 페이지 로딩시간

첫 페이지를 로딩한 후 사이트의 다른 곳으로 이동한다고 가정했을 때, CSR은 이미 첫 페이지를 로딩할 때 다른 페이지를 구성하는 코드도 모두 받아왔기 때문에 더 빠르게 구성할 수 있다.
반면 SSR은 첫 페이지를 로딩했던 과정을 다시 실행해야 하므로 비교적으로 더 느리다.

### 2. SEO 대응

CSR에선 검색엔진 크롤러 봇처럼 Javascript가 실행되지 않는 환경에서는 페이지가 제대로 나타나지 않을 수 있다. 반면에 서버에서 클라이언트 대신 렌더링을 해주면 검색 엔진이 페이지의 내용을 제대로 수집해 갈 수 있다. 구글 검색 엔진은 다른 검색 엔진과 달리 검색 엔진에서 자바스크립트를 실행하는 기능이 탑재되어 있어 제대로 크롤링해갈 수도 있지만, 모든 페이지에 대해 javascript를 실행해주지는 않는다. 따라서 모든 웹 서비스에서의 검색 엔진 최적화를 위해서라면 SSR을 구현하는 것이 바람직하다.

### 3. 서버 자원 사용

SSR은 동작이 이루어질 때마다 매번 서버에 요청을 해야하므로 서버 자원을 더 많이 사용한다.
